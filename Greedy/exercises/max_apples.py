from heapq import *
from collections import Counter
def maxNumberOfApples( weight: list[int]) -> int:

    count = Counter(weight)
    weight = sorted(count.keys())
    heap = []
    limit = 5000
    for k in weight:
        freq = count[k]
        while freq and sum(heap) <= limit:
            heappush(heap, k)
            freq -= 1
            if sum(heap) > limit:
                heap.pop()
                break
    return len(heap)

#Test Case
# #1
weight = [100,200,150,1000]
result = maxNumberOfApples(weight)
print(f'max number of apples {result}')

#2
weight = [900,950,800,1000,700,800]
result = maxNumberOfApples(weight)
print(f'max number of apples {result}')

#3
weight = [988,641,984,635,461,527,491,610,274,104,348,468,220,837,126,111,536,368,89,201,589,481,849,708,258,853,563,868,92,76,566,398,272,697,584,851,302,766,88,428,276,797,460,244,950,134,838,161,15,330]
result = maxNumberOfApples(weight)
print(f'max number of apples {result}')

weight = [974,865,121,992,419,286,862,563,102,31,774,502,474,556,95,64,569,227,104,645,940,899,824,646,894,45,285,526,965,850,937,975,933,466,902,250,699,356,258,896,122,738,123,931,3,870,325,820,142,960,891,888,825,211,326,979,511,426,118,116,23,408,86,861,308,351,27,482,166,445,612,927,657,599,988,166,242,832,355,560,371,811,491,797,462,539,274,944,915,724,46,807,474,490,282,14,265,810,233,261,91,73,634,240,71,899,120,62,218,592,499,473,107,342,472,573,793,151,454,579,356,10,355,792,452,465,703,311,791,443,788,119,300,772,709,930,760,882,912,101,815,747,370,374,943,93,701,398,928,204,833,957,241,78,910,100,70,990,327,571,117,959,893,458,32,352,628,211,662,819,71,596,216,692,499,128,48,171,756,376,751,672,940,988,998,100,601,476,862,36,852,148,18,504,496,267,531,955,985,137,107,114,790,437,435,860,274,284,204,559,165,489,823,228,288,711,528,800,884,303,610,207,313,132,170,516,369,939,403,753,601,957,603,371,74,598,158,792,697,224,287,978,622,528,912,170,578,218,562,960,892,504,378,604,235,361,184,653,492,841,910,303,227,383,566,590,938,840,581,308,957,133,18,297,388,703,653,556,880,270,38,750,914,208,812,399,593,205,480,113,853,333,276,988,471,516,444,852,716,804]
result = maxNumberOfApples(weight)
print(f'max number of apples {result}')