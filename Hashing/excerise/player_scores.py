from collections import defaultdict


def findWinners(matches: list[list[int]]) -> list[list[int]]:
    won = defaultdict(int)
    lost = defaultdict(int)

    for match in matches:
        won[match[0]] += 1
        lost[match[1]] += 1

    all_keys = list(won.keys()) + list(lost.keys())
    players = set(all_keys)

    won_all = []
    lost_one = []
    for player in players:
        if player in won and player not in lost:
            won_all.append(player)

        if lost[player] == 1:
            lost_one.append(player)

    won_all = sorted(won_all)
    lost_one = sorted(lost_one)
    return [won_all] + [lost_one]


# Test Case
# 1
matches = [[1, 3], [2, 3], [3, 6], [5, 6], [5, 7], [4, 5], [4, 8], [4, 9], [10, 4], [10, 9]]
result = findWinners(matches)
print(f'answer is : {result}')

# 2
matches = [[2,3],[1,3],[5,4],[6,4]]
result = findWinners(matches)
print(f'answer is : {result}')

# 3 Failed Test Case
matches = [[26651,85186],[19790,34845],[20238,59388],[12788,40994],[46703,28184],[49936,83960],[76158,33038],[96005,2100],[86989,72152],[73342,82931],[90852,54532],[61649,18655],[9506,73692],[56189,5503],[34939,78765],[98315,19818],[57974,42491],[5906,8266],[97215,95437],[48266,87323],[86578,82992],[29919,70323],[38749,98079],[10259,27750],[977,39147],[43625,38229],[56044,32634],[53509,13100],[59446,68045],[38379,7712],[87511,62110],[35456,508],[76381,89490],[73270,55169],[82004,20887],[11239,24195],[56561,57161],[96112,81582],[20403,76188],[77876,61782],[99546,39653],[68650,57489],[27952,11410],[10595,73394],[98154,49624],[10866,3758],[70902,97205],[43360,93218],[59119,82709],[7379,47660],[76950,1884],[20120,87138],[23010,5729],[96553,12208],[70423,36052],[98588,30989],[87447,24694],[90748,39031],[17455,13250],[49557,4501],[99624,72185],[24791,99744],[80458,57635],[16175,29359],[53170,83581],[95936,39348],[5634,95357],[58517,73348],[54861,34521],[86692,23939],[11623,85398],[7562,4748],[13217,29610],[52705,67263],[95277,68332],[50498,96263],[18070,33256],[1901,4237],[11894,97936],[22135,34362],[7698,64698],[22893,62847],[2294,14712],[69996,48778],[340,93723],[42138,33976],[53231,33755],[29512,501],[81773,58971],[19189,20321],[30220,37726],[78678,17938],[79172,26444],[67695,39219],[23206,40923],[5651,8928],[49333,29553],[98589,75052],[99636,94502],[38455,66022],[3654,56685],[42118,65465],[83831,62461],[81301,90996],[35209,23863],[99223,69931],[5206,42971],[2143,97501],[91454,60002],[6307,70975],[48194,6557],[60125,70237],[60551,85062],[58731,86177],[98064,94854],[63923,51970],[87687,36064],[37926,97759],[87685,22212],[62051,7149],[1430,13255],[55928,48428],[8319,99922],[58503,69220],[45821,70178],[56815,31101],[77963,7364],[28828,65658],[92037,99306],[97928,41984],[47086,73658],[35491,79727],[24688,42610],[32304,18289],[52770,31966],[96613,96122],[73643,49573],[27623,89143],[62163,93629],[41018,53285],[59655,4055],[80777,17295],[9744,38601]]
# output = [[5634,98315,30220,9744,7698,10259,5651,26651,52770,37926,68650,95277,17455,32304,86578,77876,59446,73270,38455,41018,48194,3654,80458,54861,82004,5206,76381,2143,62051,43625,46703,67695,24688,10866,57974,11894,22135,55928,34939,90748,73342,8319,35456,87685,42118,60551,87687,58503,48266,77963,97928,58517,76950,18070,20120,42138,28828,6307,86692,35491,23206,49333,95936,61649,7379,62163,24791,99546,60125,29919,90852,56044,59119,56561,19189,70902,2294,45821,96005,53509,59655,20238,49936,98064,5906,70423,98588,98589,9506,99624,96553,16175,27952,99636,91454,50498,79172,29512,19790,340,78678,38749,43360,10595,96613,11623,98154,58731,69996,1901,22893,81773,96112,83831,56189,76158,92037,35209,7562,80777,49557,81301,87447,99223,1430,13217,73643,53170,20403,63923,97215,86989,977,87511,52705,23010,11239,27623,38379,47086,53231,56815,12788],[41984,96263,17938,28184,93723,34845,7712,40994,93218,70178,53285,47660,82992,94854,2100,89143,34362,85062,8266,99922,58971,70237,5729,87138,60002,69220,27750,65658,42610,24694,39031,83581,95357,24195,73348,4748,4237,48778,97936,57489,11410,62110,86177,81582,3758,29359,73394,70323,33976,64698,67263,85186,22212,7364,38601,95437,36052,34521,97501,18655,8928,36064,31966,39653,39147,68332,51970,54532,30989,33038,82709,87323,98079,57635,94502,69931,13100,75052,48428,39219,23863,70975,57161,26444,38229,61782,1884,37726,20321,19818,29553,56685,90996,79727,18289,14712,32634,96122,5503,62847,55169,31101,23939,17295,89490,20887,4501,76188,85398,6557,99744,49573,29610,78765,12208,97205,39348,65465,73658,93629,13250,13255,68045,72152,49624,4055,33755,73692,40923,42971,97759,66022,33256,99306,508,7149,82931,501,83960,72185,42491,59388,62461]]
# expected = [[340,977,1430,1901,2143,2294,3654,5206,5634,5651,5906,6307,7379,7562,7698,8319,9506,9744,10259,10595,10866,11239,11623,11894,12788,13217,16175,17455,18070,19189,19790,20120,20238,20403,22135,22893,23010,23206,24688,24791,26651,27623,27952,28828,29512,29919,30220,32304,34939,35209,35456,35491,37926,38379,38455,38749,41018,42118,42138,43360,43625,45821,46703,47086,48194,48266,49333,49557,49936,50498,52705,52770,53170,53231,53509,54861,55928,56044,56189,56561,56815,57974,58503,58517,58731,59119,59446,59655,60125,60551,61649,62051,62163,63923,67695,68650,69996,70423,70902,73270,73342,73643,76158,76381,76950,77876,77963,78678,79172,80458,80777,81301,81773,82004,83831,86578,86692,86989,87447,87511,87685,87687,90748,90852,91454,92037,95277,95936,96005,96112,96553,96613,97215,97928,98064,98154,98315,98588,98589,99223,99546,99624,99636],[501,508,1884,2100,3758,4055,4237,4501,4748,5503,5729,6557,7149,7364,7712,8266,8928,11410,12208,13100,13250,13255,14712,17295,17938,18289,18655,19818,20321,20887,22212,23863,23939,24195,24694,26444,27750,28184,29359,29553,29610,30989,31101,31966,32634,33038,33256,33755,33976,34362,34521,34845,36052,36064,37726,38229,38601,39031,39147,39219,39348,39653,40923,40994,41984,42491,42610,42971,47660,48428,48778,49573,49624,51970,53285,54532,55169,56685,57161,57489,57635,58971,59388,60002,61782,62110,62461,62847,64698,65465,65658,66022,67263,68045,68332,69220,69931,70178,70237,70323,70975,72152,72185,73348,73394,73658,73692,75052,76188,78765,79727,81582,82709,82931,82992,83581,83960,85062,85186,85398,86177,87138,87323,89143,89490,90996,93218,93629,93723,94502,94854,95357,95437,96122,96263,97205,97501,97759,97936,98079,99306,99744,99922]]
result = findWinners(matches)
print(f'answer is : {result}')